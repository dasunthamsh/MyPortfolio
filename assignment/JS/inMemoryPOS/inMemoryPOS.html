





<script src="../calculator/jq/jq.js"></script>

</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="Viewport" content="Width=device-width, initial-scale=1">
  <title>Bootstrap</title>
  <link rel="stylesheet" href="../../CSS-Framework/assets/css/bootstrap.min.css">
</head>
<body onload="getPageContent('home')">

<nav class="navbar navbar-expand-lg bg-danger shadow-sm p-3 mb-5  rounded " >
  <div class="container-fluid">
    <a class="navbar-brand fw-bold"  href="#" id="footCity">FootCity </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">

        <li class="nav-item"><a class="nav-link active" onclick="getPageContent('home')"  aria-current="page" href="#">Home</a></li>
        <li class="nav-item"><a class="nav-link" onclick="getPageContent('customer')" href="#">Customer</a></li>
        <li class="nav-item"><a class="nav-link" onclick="getPageContent('item')" href="#">Item</a></li>
        <li class="nav-item"><a class="nav-link" onclick="getPageContent('order')" href="#">Order</a>

        </li>
      </ul>
    </div>
  </div>
</nav>

<div id="content"></div>
<script src="../calculator/jq/jq.js"></script>

<script>


  let vArray = new Array();

  var customerDB = [
          {id:'C001',name:'Dasun',address:'Gale',Email:'Dasnu@gmail.com',contact:'0784565258'},
          {id:'C002',name:'Chamara',address:'Mathara',Email:'Chamara@gmail.com',contact:'07884665258'}
  ];




  var pages = {
    'home' : `<div class="container ">
  <div class="row">

    <div class="col-md-4">
      <div class="card container w-75">
        <img src="../../CSS-Framework/assets/imges/im1.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Customer Details</h5>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="" class="btn btn-primary">Add Customer</a>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card container w-75">
        <img src="../../CSS-Framework/assets/imges/img2.jpg" class="card-img-top " alt="..." height="195">
        <div class="card-body">
          <h5 class="card-title">Item Details</h5>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="pages/item.html" class="btn btn-primary">Add Item</a>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card container w-75" >
        <img src="../../CSS-Framework/assets/imges/im3.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Order Details</h5>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="pages/Order.html" class="btn btn-primary">Make Orders</a>
        </div>
      </div>
    </div>
  </div>
  </div>`,
    'customer' : `<div class="container">
    <div class="container row m-lg-5 w-100" style="  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
rgba(0, 0, 0, 0.19); border-radius: 12px" >
      <div class="card-header bg-danger fw-bold" style="border: none; border-top-left-radius: 12px; border-top-right-radius: 12px;">Add New Customer</div>

      <div class="mb-3 mt-4 w-50">
        <label for="customerId" class="form-label">Customer Id</label>
        <input type="email" class="form-control" id="customerId" >
      </div>

      <div class="mb-3 mt-4 w-50">
        <label for="customerName" class="form-label">Name</label>
        <input class="form-control" id="customerName" >
      </div>

      <div class="mb-3 w-50">
        <label for="customerEmail" class="form-label">Email</label>
        <input class="form-control" id="customerEmail" placeholder="name@example.com">
      </div>

      <div class="mb-3 w-50">
        <label for="customerContact" class="form-label">Contact</label>
        <input class="form-control" id="customerContact">
      </div>

      <div class="mb-3">
        <label for="customerAddress" class="form-label">Address</label>
        <input class="form-control" id="customerAddress"   >
      </div>
      <div class="container m-3 w-75" >
        <button type="button" class="btn btn-danger" style="width: 150px; margin-left: 10px" id="saveCustomer">Save</button>
        <button type="button" class="btn btn-danger" style="width: 150px; margin-left: 10px" id="updateCustoemr">Update</button>
        <button type="button" class="btn btn-danger" style="width: 150px; margin-left: 10px" id="searchCustomer">Search</button>
        <button type="button" class="btn btn-danger" style="width: 150px; margin-left: 10px" id="deleteCustomer">Delete</button>
                <button type="button" class="btn btn-danger" style="width: 150px; margin-left: 10px" id="getAllCustomers">getAll</button>

      </div>

    </div>
  </div>


  <div class="container">
    <table class="table" id="customerTable">
      <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Contact</th>
        <th scope="col">Address</th>
      </tr>
      </thead>

      <tbody id="tableRows">

      </tbody>


    </table>
  </div>`,
    'item' : ` <div class="container">
                    <div class="container row" style=" box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
            rgba(0, 0, 0, 0.19); border-radius: 12px">
                        <div class="card-header bg-danger fw-bold" style="border: none; border-top-left-radius: 12px; border-top-right-radius: 12px;">Add New Customer</div>

                        <div class="mb-3 mt-4 w-50">
                        <label for="exampleFormControlInput1" class="form-label">Item Code</label>
                        <input type="email" class="form-control" id="exampleFormControlInput1">
                      </div>

                      <div class="mb-3 mt-4 w-50"  >
                        <label for="exampleFormControlTextarea2" class="form-label">Item Name</label>
                        <input class="form-control" id="exampleFormControlTextarea2">
                      </div>

                        <div class="mb-3 w-50" >
                            <label for="exampleFormControlTextarea3" class="form-label">QYT</label>
                            <input class="form-control" id="exampleFormControlTextarea3">
                        </div>

                        <div class="mb-3 w-50">
                            <label for="exampleFormControlTextarea4" class="form-label">Price</label>
                            <input class="form-control" id="exampleFormControlTextarea4">
                        </div>

                        <div class="mb-3 w-50" >
                            <label for="exampleFormControlTextarea5" class="form-label">Price</label>
                            <input class="form-control" id="exampleFormControlTextarea5">
                        </div>

                        <div class="container m-3">
                            <button type="button" class="btn btn-danger" style="width: 150px">Save</button>
                            <button type="button" class="btn btn-danger" style="width: 150px">Update</button>
                            <button type="button" class="btn btn-danger" style="width: 150px">Search</button>
                            <button type="button" class="btn btn-danger" style="width: 150px">Delete</button>
                        </div>

                    </div>

                    <div class="container mt-4">
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col">...</th>
                                <th scope="col">ID</th>
                                <th scope="col">Name</th>
                                <th scope="col">QYT</th>
                                <th scope="col">price</th>
                                <th scope="col">Details</th>


                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th scope="row">1</th>
                                <td>I001</td>
                                <td>Carrot</td>
                                <td>2KG</td>
                                <td>250.RS</td>
                                <td>.............</td>
                            </tr>
                            <tr>
                                <th scope="row">2</th>
                                <td>I002</td>
                                <td>cake</td>
                                <td>5KG</td>
                                <td>2000.Rs</td>
                                <td>................</td>
                            </tr>
                            <tr>
                                <th scope="row">3</th>
                                <td>I003</td>
                                <td>Ice Cream</td>
                                <td>1 box</td>
                                <td>350.Rs</td>
                                <td>.................</td>
                            </tr>

                            </tbody>
                        </table>
                    </div>
                </div>`,
    'order' : ` <div class="container">
            <div class="row">
                <div class="m-3 col-xl-4 col-md-3" style=" box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
    rgba(0, 0, 0, 0.19); border-radius: 12px">

                  <div class="card-header bg-danger fw-bold mb-4" style="border: none; border-top-left-radius: 12px; border-top-right-radius: 12px;">Invoice Details</div>

                  <div class="mb-3" >
                    <label for="exampleFormControlInput1" class="form-label">Customer Id</label>
                    <input type="email" class="form-select" id="exampleFormControlInput1">
                  </div>

                  <div class="mb-3">
                    <label for="exampleFormControlTextarea2" class="form-label">Order Id</label>
                    <input  class="form-select" id="exampleFormControlTextarea2">
                  </div>

                  <div class="mb-3">
                    <label for="orderDate" class="form-label">Order Date</label>
                    <input class="form-control" id="orderDate" type="date">
                  </div>

                  <div class="mb-3">
                    <label for="exampleFormControlTextarea4" class="form-label">Email</label>
                    <input class="form-control" id="exampleFormControlTextarea4">
                  </div>


                </div>

              <div class="m-3 col-xl-4 col-md-3" style=" height: 500px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
    rgba(0, 0, 0, 0.19); border-radius: 12px">

                <div class="card-header bg-danger fw-bold mb-4" style="border: none; border-top-left-radius: 12px; border-top-right-radius: 12px;">Item Select</div>

                <div class="mb-3">
                    <label for="exampleFormControlInput5" class="form-label">Item Code</label>
                    <input type="email" class="form-select" id="exampleFormControlInput5">
                  </div>

                <div class="mb-3">
                  <label for="exampleFormControlInput6" class="form-label">QYT on.hand</label>
                  <input type="email" class="form-control" id="exampleFormControlInput6">
                </div>

                <div class="mb-3">
                  <label for="exampleFormControlInput7" class="form-label">price</label>
                  <input type="email" class="form-control" id="exampleFormControlInput7">
                </div>

                <div class="mb-3">
                  <label for="exampleFormControlInput8" class="form-label">order QYT</label>
                  <input type="email" class="form-control" id="exampleFormControlInput8">
                </div>

                <button type="button" class="btn btn-danger" style="width: 90%; margin-left: 10px">Add Item</button>


              </div>
              <div class="m-3 col-xl-3 col-md-3" style=" height: 500px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
    rgba(0, 0, 0, 0.19); border-radius: 12px" >


                  <div class="row">
                    <div class="mt-4 col-6">
                      <span class="txt-total  fs-4">Total QYT</span>
                    </div>

                    <div class="mt-4 col-6 text-end ">
                      <span class=" fs-4">10</span>
                    </div>

                    <div class="border w-75 mt-4 container"></div>

                  </div>

                <div class="row">
                  <div class="mt-4 col-6">
                    <span class="txt-total  fs-4 fw-normal d-inline-block">Subtotal</span>
                  </div>

                  <div class="mt-4 mb-3 text-end pt-2">
                    <span class="fs-4">5250.Rs</span>
                  </div>

                  <div class="mb-3 w-50">
                    <label for="exampleFormControlInput9" class="form-label">Cash</label>
                    <input type="email" class="form-control" id="exampleFormControlInput9">
                  </div>

                  <div class="mb-3 w-50">
                    <label for="exampleFormControlInput10" class="form-label">Discount</label>
                    <input type="email" class="form-control" id="exampleFormControlInput10">
                  </div>

                  <div class="mb-3">
                    <label for="exampleFormControlInput11" class="form-label">Balance</label>
                    <input type="email" class="form-control" id="exampleFormControlInput11">
                  </div>

                  <button type="button" class="btn btn-danger" style="width: 90%; margin-left: 10px">Bill</button>


                </div>
              </div>
            </div>
         </div>

        <div class="col-md-12 mt-4" style="overflow-y: scroll; height: 164px">
          <table class="table table-hover">
            <thead class="table-warning">
            <th scope="col">Item Code</th>
            <th scope="col">Name</th>
            <th scope="col">Quantity</th>
            <th scope="col">Price</th>
            <th scope="col">Total</th>
            <th scope="col"><button>Delete</button></th>
            <th scope="col"><button>Update</button></th>


            </thead>
            <tbody></tbody>
          </table>
        </div>
        </div>`
  };

  function getPageContent(page) {
    var contentToReturn;

    switch (page) {
      case 'home' :
        contentToReturn = pages.home;
        break;
      case 'customer' :
        contentToReturn = pages.customer;
        break;
      case 'item' :
        contentToReturn = pages.item;
        break;
      case 'order' :
        contentToReturn = pages.order;
        break;
      default :
        contentToReturn = pages.home;
        break;
    }
    document.getElementById('content').innerHTML = contentToReturn;

// validation part
    const CUS_ID_REGEX = /^(C00-)[0-9]{3}$/;
    const CUS_NAME_REGEX = /^[A-Za-z ]{5,}$/;
    const CUS_ADDRESS_REGEX = /^[A-Za-z0-9 ]{8,}$/;
    const CUS_NUMBER_REGEX = /^[0-9]$/;
    const CUS_EMAIL_REGEX = /^(a-z)$/;

    vArray.push([$('#customerId'),CUS_ID_REGEX]);
    vArray.push([$('#customerName'),CUS_NAME_REGEX]);
    vArray.push([$('#customerEmail'),CUS_EMAIL_REGEX]);
    vArray.push([$('#customerAddress'),CUS_ADDRESS_REGEX]);
    vArray.push([$('#customerContact'),CUS_NUMBER_REGEX]);



// save customer




















//     $('#btnCNew').click(function () {
//       clearCFields();
//       bindCRowClickEvents();
//     });
//
//     $('#saveCustomer').click(function () {
//       saveCustomer($('#customerId').val(), $('#customerName').val(), $('#customerAddress').val(), $('#customerContact').val() , ('#'));
//
//       loadAllCustomers();
//
//       bindCRowClickEvents();
//     });
//
//     $('#getAllCustomers').click(function () {
//       loadAllCustomers();
//       bindCRowClickEvents();
//     });
//
//     $('#deleteCustomer').click(function () {
//       let deletedID = $('#customerId').val();
//       Swal.fire({
//         title: 'Are you sure?',
//         text: "Do you want to delete "+ deletedID +" Customer",
//         icon: 'warning',
//         showCancelButton: true,
//         confirmButtonColor: '#3085d6',
//         cancelButtonColor: '#d33',
//         confirmButtonText: 'Yes, delete it!'
//       }).then((result) => {
//         if (result.isConfirmed) {
//           if(deleteCustomer(deletedID)){
//             Swal.fire(
//                     'Deleted!',
//                     'Your file has been deleted.',
//                     'success'
//             )
//             clearCFields();
//           }else{
//             Swal.fire(
//                     'Error',
//                     'NO customer to delete, Re-Check customer ID',
//                     'error'
//             )
//             clearCFields();
//           }
//         }
//       })
//     });
//
//     $('#searchCustomer').click(function () {
//       let typedID = $('#customerId').val();
//       let customer = searchCustomer(typedID);
//       if(customer != null){
//         setCTextFieldValues(customer.name, customer.address, customer.contact);
//       }else{
//         Swal.fire(
//                 'Error',
//                 'There is no customer available for ' + typedID,
//                 'error'
//         )
//         setCTextFieldValues("", "", "", "");
//       }
//     });
//
//     $('#updateCustoemr').click(function () {
//       let updatedID = $('#customerId').val();
//       Swal.fire({
//         title: 'Do you want to save the changes?',
//         showDenyButton: true,
//         // showCancelButton: true,
//         confirmButtonText: 'Save',
//         denyButtonText: `Don't save`,
//       }).then((result) => {
//         if (result.isConfirmed) {
//           if(updateCustomer(updatedID)){
//             Swal.fire(
//                     'Updated!',
//                     'Customer updated successfully.',
//                     'success'
//             )
//             clearCFields();
//           }else{
//             Swal.fire(
//                     'Error',
//                     'NO customer to update, Re-Check customer ID',
//                     'error'
//             )
//             clearCFields();
//           }
//         }
//       })
//
//     });
//
//     function saveCustomer(id, name, address, contact){
//
//       customerObj = new Object({
//         id : id,
//         name : name,
//         address : address,
//         contact : contact
//       });
//
//       customerArr.push(customerObj);
//
//       Swal.fire({
//         position: 'center',
//         icon: 'success',
//         title: 'Customer Saved Successfully',
//         showConfirmButton: false,
//         timer: 1800
//       })
//
//       clearCFields();
//     }
//
//     function deleteCustomer(id){
//       let customer = searchCustomer(id);
//       if(customer != null){
//         let indexNo = customerArr.indexOf(customer);
//         customerArr.splice(indexNo,1);
//         loadAllCustomers();
//         bindCRowClickEvents();
//         return true;
//       }else{
//         return false;
//       }
//     }
//
//     function searchCustomer(id){
//       for (let customer of customerArr) {
//         if(customer.id == id){
//           bindCRowClickEvents();
//           return customer;
//         }
//       }
//       return null;
//     }
//
//     function updateCustomer(id){
//       let customer = searchCustomer(id);
//       if(customer != null){
//         customer.name = $('#customerName').val();
//         customer.address = $('#customerAddress').val();
//         customer.contact = $('#customerContact').val();
//         loadAllCustomers();
//         bindCRowClickEvents();
//         return true;
//       }else {
//         return false;
//       }
//     }
//
//     function loadAllCustomers(){
//       $('#row').empty();
//
//       for (let customer of customerArr) {
//         let row = `<tr><td>${customer.id}</td><td>${customer.name}</td><td>${customer.address}</td><td>${customer.contact}</td></tr>`;
//         $('#customerTable').append(row);
//       }
//
//     }
//
//     function bindCRowClickEvents() {
//       $('#customerTable>tr').click(function () {
//         let id = $(this).children(':eq(0)').text();
//         let name = $(this).children(':eq(1)').text();
//         let address = $(this).children(':eq(2)').text();
//         let contact = $(this).children(':eq(3)').text();
//
//         $('#customerId').val(id);
//         $('#customerName').val(name);
//         $('#customerAddress').val(address);
//         $('#customerContact').val(contact);
//
//       });
//     }
//
//     function setCTextFieldValues(name, address, contact){
//       $('#customerName').val(name);
//       $('#customerAddress').val(address);
//       $('#customerContact').val(contact);
//     }
//
//     function clearCFields(){
//       $('#customerId').val("");
//       $('#customerName').val("");
//       $('#customerAddress').val("");
//       $('#customerContact').val("");
//     }
//
// //RegEx
//     $('#customerId').focus();
//
//     const cusIDRegEx = /^(C)[0-9]{1,3}$/;
//     const cusNameRegEx = /^[A-z ]{5,20}$/;
//     const cusAddressRegEx = /^[a-z]$/;
//     const cusContactRegEx = /^[0-9]{10}$/;
//
//     let customerValidations = [];
//     customerValidations.push({reg: cusIDRegEx, field: $('#customerId'),error:'Customer ID Pattern is Wrong : C001'});
//     customerValidations.push({reg: cusNameRegEx, field: $('#customerName'),error:'Customer Name Pattern is Wrong : A-z 5-20'});
//     customerValidations.push({reg: cusAddressRegEx, field: $('#customerAddress'),error:'Customer Address Pattern is Wrong : A-z 0-9 ,/'});
//     customerValidations.push({reg: cusContactRegEx, field: $('#customerContact'),error:'Customer Contact Pattern is Wrong : [0-9] 10 Numbers'});
//
// //disable tab key of all four text fields using grouping selector in CSS
//     $("#customerId,#customerName,#customerAddress,#customerContact").on('keydown', function (event) {
//       if (event.key == "Tab") {
//         event.preventDefault();
//       }
//     });
//
//     $("#customerId,#customerName,#customerAddress,#customerContact").on('keyup', function (event) {
//       checkValidity();
//     });
//     $("#customerId,#customerName,#customerAddress,#customerContact").on('blur', function (event) {
//       checkValidity();
//     });
//
//     $("#customerId").on('keydown', function (event) {
//       if (event.key == "Enter" && check(cusIDRegEx, $("#customerId"))) {
//         $("#customerName").focus();
//       } else {
//         focusText($("#customerId"));
//       }
//     });
//
//     $("#customerName").on('keydown', function (event) {
//       if (event.key == "Enter" && check(cusNameRegEx, $("#customerName"))) {
//         focusText($("#customerAddress"));
//       }
//     });
//
//     $("#customerAddress").on('keydown', function (event) {
//       if (event.key == "Enter" && check(cusAddressRegEx, $("#customerAddress"))) {
//         focusText($("#customerContact"));
//       }
//     });
//
//     $("#customerContact").on('keydown', function (event) {
//       if (event.key == "Enter" && check(cusContactRegEx, $("#customerContact"))) {
//         let res = confirm("Do you want to add this customer.?");
//         if (res) {
//           clearAllTexts();
//         }
//       }
//     });
//
//     function checkValidity() {
//       let errorCount=0;
//       for (let validation of customerValidations) {
//         if (check(validation.reg,validation.field)) {
//           textSuccess(validation.field,"");
//         } else {
//           errorCount=errorCount+1;
//           setTextError(validation.field,validation.error);
//         }
//       }
//       setButtonState(errorCount);
//     }
//
//     function check(regex, txtField) {
//       let inputValue = txtField.val();
//       return regex.test(inputValue) ? true : false;
//     }
//
//     function setTextError(txtField,error) {
//       if (txtField.val().length <= 0) {
//         defaultText(txtField,"");
//       } else {
//         txtField.css('border', '2px solid red');
//         txtField.parent().children('span').text(error);
//         txtField.parent().children('span').css('font-size','12px');
//         txtField.parent().children('span').css('color','red');
//       }
//     }
//
//     function textSuccess(txtField,error) {
//       if (txtField.val().length <= 0) {
//         defaultText(txtField,"");
//       } else {
//         txtField.css('border', '2px solid green');
//         txtField.parent().children('span').text(error);
//       }
//     }
//
//     function defaultText(txtField,error) {
//       txtField.css("border", "1px solid #ced4da");
//       txtField.parent().children('span').text(error);
//     }
//
//     function focusText(txtField) {
//       txtField.focus();
//     }
//
//     // function setButtonState(value){
//     //   if (value>0){
//     //     $("#customerId").attr('disabled',true);
//     //   }else{
//     //     $("#customerId").attr('disabled',false);
//     //   }
//     // }
//
//     function clearAllTexts() {
//       $("#customerId").focus();
//       $("#customerId,#customerName,#customerAddress,#customerContact").val("");
//       checkValidity();
//     }
//
   }
</script>
<script src="controller/Customer.js"></script>
</body>
</html>